version: 2.1

orbs:
    node: circle/node@4.7.0

jobs:
    test:
        executor:
            name: node/default
            tag: '16.8.0'
        steps:
            - checkout
            - node/install-packages
            - run:
              command: npm run test

    build:
        steps:
            - run:
              command: npm run build

workflows:
    my-app-workflow:
        jobs:
            - test
            - build
